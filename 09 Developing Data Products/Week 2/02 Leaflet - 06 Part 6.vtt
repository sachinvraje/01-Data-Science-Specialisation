WEBVTT

1
00:00:00.400 --> 00:00:03.720
So the last thing we're going to really
talk about is that you may want to

2
00:00:03.720 --> 00:00:11.070
actually digitally draw
shapes on your map, okay?

3
00:00:11.070 --> 00:00:14.850
So here we're going to show you
how to draw some circles and

4
00:00:14.850 --> 00:00:17.800
it will be pretty obvious how you do that.

5
00:00:17.800 --> 00:00:21.830
And then we'll show you how
to draw some rectangles, and

6
00:00:21.830 --> 00:00:24.120
then we'll show you how to add a legend.

7
00:00:24.120 --> 00:00:28.870
So these couple of commands will get you
started, and then there's obviously more.

8
00:00:28.870 --> 00:00:32.903
These couple of cans will get you
started on really annotating and

9
00:00:32.903 --> 00:00:35.851
kind of drawing on your
map in very useful ways.

10
00:00:35.851 --> 00:00:39.332
And we're going to give you an example
of at least drawing with a circle,

11
00:00:39.332 --> 00:00:41.960
in a way that you might
actually want to do.

12
00:00:41.960 --> 00:00:43.110
Okay, so let's go ahead.

13
00:00:44.400 --> 00:00:48.845
Okay, so this is a nice example
because it's sort of along

14
00:00:48.845 --> 00:00:51.450
the lines of something you
might really want to do.

15
00:00:51.450 --> 00:00:54.980
So here,
what we have is a collection of cities.

16
00:00:54.980 --> 00:00:58.650
So we have the cities, their names
are Baltimore, Frederick, Rockville,

17
00:00:58.650 --> 00:01:01.240
Gaithersburg, these are all
cities right around Baltimore.

18
00:01:01.240 --> 00:01:04.240
Okay, and
it gives you the population here.

19
00:01:04.240 --> 00:01:09.160
Okay, and it gives you the latitude and
the longitude.

20
00:01:09.160 --> 00:01:12.940
So, now we're going to take our
cities dataset, we're going to

21
00:01:12.940 --> 00:01:16.740
pass it to leaflet, we're going to
pass the output of that to add tiles.

22
00:01:16.740 --> 00:01:18.690
Okay, now it's got our mapping data.

23
00:01:18.690 --> 00:01:20.360
And then we're going to add circles.

24
00:01:20.360 --> 00:01:25.315
So remember, we talked about the
addCircles command in the last lecture,

25
00:01:25.315 --> 00:01:28.408
okay, but now we're going to
pass in some important options.

26
00:01:28.408 --> 00:01:33.600
So, the wait, we'll show you what
happens when we change that,

27
00:01:33.600 --> 00:01:39.050
but we want the radius to be scaled
relative to the population of the cities.

28
00:01:39.050 --> 00:01:43.570
Okay so this is a more reasonable use of
adding circles than just having them as

29
00:01:43.570 --> 00:01:45.720
the markers, okay?

30
00:01:45.720 --> 00:01:47.370
So here let's go ahead and do it.

31
00:01:47.370 --> 00:01:51.390
Oop, I've gotta actually run,
get the cities.

32
00:01:52.570 --> 00:01:57.410
There we go.
All right, and then see here.

33
00:01:57.410 --> 00:02:01.510
So we've got Baltimore is
a much larger city say than

34
00:02:01.510 --> 00:02:05.490
Annapolis in terms of population, okay?

35
00:02:05.490 --> 00:02:09.770
And so the size of the circle is
representative of the population.

36
00:02:09.770 --> 00:02:14.210
Let's change that weight to
let's weight to let's say 10.

37
00:02:14.210 --> 00:02:16.380
And that's the way to
really look at options,

38
00:02:16.380 --> 00:02:19.070
is just make them much bigger, okay?

39
00:02:19.070 --> 00:02:22.520
There, now you say what weight does,
it does the kind of

40
00:02:24.420 --> 00:02:26.990
the outline of the circle.

41
00:02:26.990 --> 00:02:29.670
Just to make it even more apparent,
let's do it to 100.

42
00:02:29.670 --> 00:02:33.480
So yeah, when you're looking at options,
just make them as extreme as you can and

43
00:02:33.480 --> 00:02:34.990
then that'll show you what they're doing.

44
00:02:34.990 --> 00:02:38.730
So that looks terrible but
now we understand what the wake does.

45
00:02:38.730 --> 00:02:40.920
There we go,

46
00:02:40.920 --> 00:02:43.314
let's get it back just because it
looks way better at weight equal 1.

47
00:02:44.410 --> 00:02:49.940
Okay, now,
let's just try doing a rectangle.

48
00:02:49.940 --> 00:02:54.210
Just to show you what adding
a rectangle looks like.

49
00:02:54.210 --> 00:02:58.030
So, we're going to take leaflet,
add tiles,

50
00:02:58.030 --> 00:02:59.370
and then we're going to add a rectangle.

51
00:02:59.370 --> 00:03:03.940
But this time, just to show you,
we're going to give you one rectangle.

52
00:03:03.940 --> 00:03:09.240
And in this case with the rectangle
you are just giving its two corners.

53
00:03:10.510 --> 00:03:14.850
So all you need for rectangle is two

54
00:03:16.350 --> 00:03:18.810
opposite corners,
it can't be two corners on the same line.

55
00:03:18.810 --> 00:03:25.880
Two opposite corners,
there is the rectangle, all right?

56
00:03:25.880 --> 00:03:31.950
So apparently, we're rectangling
the Mountain View Corporate Center, okay?

57
00:03:36.409 --> 00:03:39.830
Now, let's cover the final
thing which is adding a legend.

58
00:03:39.830 --> 00:03:45.363
So it will be very common task where you
want to add circles or add annotations

59
00:03:45.363 --> 00:03:51.249
like these rectangles and circles but you
want them to be have a different color.

60
00:03:51.249 --> 00:03:56.243
And then you want a legend so that the
user of the map can understand what each

61
00:03:56.243 --> 00:03:59.160
of the separate annotations means.

62
00:03:59.160 --> 00:04:02.829
Okay, so, here we have a data
frame that's got 20 points.

63
00:04:03.870 --> 00:04:07.720
And the colors are going to be red,
blue, and green.

64
00:04:07.720 --> 00:04:11.990
And, so there we go.

65
00:04:11.990 --> 00:04:15.480
Okay, so let's just look this data
framework, quick head data frame.

66
00:04:15.480 --> 00:04:17.390
We'll do that for us.

67
00:04:17.390 --> 00:04:20.230
Okay, we got a bunch of latitude and
longitude points.

68
00:04:20.230 --> 00:04:23.180
In colors blue, red, green, and so on.

69
00:04:23.180 --> 00:04:26.406
Okay, then we take our data frame,
we're going to pass the leaflet.

70
00:04:26.406 --> 00:04:30.020
Add the mapping data.

71
00:04:30.020 --> 00:04:34.190
Now we're going to add just the circle
markers, only now the only differences

72
00:04:34.190 --> 00:04:38.040
we're going to have them colored by
their random color that we generated.

73
00:04:38.040 --> 00:04:41.430
Now of course, when you're doing this on
your own, you're going to want your colors

74
00:04:41.430 --> 00:04:47.170
to be important like this county is
going to tend to vote Democrat and

75
00:04:47.170 --> 00:04:50.550
this other county's going to tend to
vote Republican or something like that.

76
00:04:50.550 --> 00:04:56.130
And in that case, you of course want
the colors to not be assigned at random.

77
00:04:56.130 --> 00:04:58.630
Okay, so
hopefully that point is not that hard.

78
00:04:58.630 --> 00:05:03.500
So now the last thing, and the only thing
we want to talk about is adding a legend.

79
00:05:03.500 --> 00:05:07.340
Okay, so
adding a legend operates a lot like

80
00:05:07.340 --> 00:05:12.020
the legend command in base R plotting,
okay?

81
00:05:12.020 --> 00:05:17.400
So the labels are just LETTERS[1:3] and
that's not anything in specific,

82
00:05:17.400 --> 00:05:21.790
we just made up labels in this case.

83
00:05:21.790 --> 00:05:27.000
So if you type letters that's
just pre-defined vector in our.

84
00:05:27.000 --> 00:05:30.900
So if you type letters one to three
it just gives you a, b, c, okay?

85
00:05:30.900 --> 00:05:32.090
So that we're just making up.

86
00:05:32.090 --> 00:05:34.200
You would obviously want
this to be set say for

87
00:05:34.200 --> 00:05:37.410
example to Democrat, Republican,
other or something like that.

88
00:05:37.410 --> 00:05:39.680
Okay, and then the colors are blue.

89
00:05:39.680 --> 00:05:41.810
Blue, red, and green, okay?

90
00:05:41.810 --> 00:05:43.950
So let's go ahead and run this, and

91
00:05:43.950 --> 00:05:47.630
then you'll see your legend right up here,
okay?

92
00:05:47.630 --> 00:05:50.110
So that tells you what
the colors of your dots means.

93
00:05:50.110 --> 00:05:53.330
And of course in your example you'll
have more meaningful colors and

94
00:05:53.330 --> 00:05:56.480
more meaningful dots, but
now you know how to do it.

95
00:05:56.480 --> 00:06:00.420
Okay, so I hope,
this was the last lecture on Leaflet.

96
00:06:00.420 --> 00:06:02.670
I hope you found it useful.

97
00:06:02.670 --> 00:06:06.410
Honestly, I think Leaflet is probably one
of the most useful things we'll cover in

98
00:06:06.410 --> 00:06:07.140
this class.

99
00:06:07.140 --> 00:06:12.370
And you can use Leaflet in conjunction
with Shiny to create some really amazing

100
00:06:12.370 --> 00:06:14.570
applications.

101
00:06:14.570 --> 00:06:18.670
Nonetheless, I think this is one of
the easiest interactive plotting.

102
00:06:18.670 --> 00:06:23.790
Utilities that you have in our, and
certainly is worth your time to learn.

103
00:06:23.790 --> 00:06:25.709
Okay, thanks, and I look forward
to seeing you in the next lab.